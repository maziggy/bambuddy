(function(){"use strict";const s=self,t=new Set;s.onmessage=async c=>{const e=c.data;switch(e.type){case"visibility":{e.visible?t.add(e.printerId):t.delete(e.printerId);break}case"frame":{const a=e.printerId,n=e.jpeg;if(!t.has(a))break;try{const r=new Blob([n],{type:"image/jpeg"}),i=await createImageBitmap(r);s.postMessage({type:"frame",printerId:a,bitmap:i},[i])}catch{}break}}}})();
